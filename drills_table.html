<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
	<title>Braves Ahuntsic Drills</title>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" />
	<style type="text/css" class="init"></style>
	<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" class="init">
    function myFunction()
    {
      alert("You have called the function from a anchor tag inside a datatable. Make sure it is outside $document.Ready(function)")        
    }
		$(document).ready(
			function () {
				var table = $('#Drills').DataTable(
					{
						"pageLength": -1,
						"lengthMenu": [ [-1, 10, 50, 250], ["ALL", 10, 50, 250] ],
            "processing": true,
						"serverSide": true,
						"ajax": {
              url: 'cdc.json',
              dataSrc: 'Drills',
            },
            columns: [
              { data: 'ID' ,
                //render: function ( data, type, row, meta ) { return '<a href="'+data+'">'+data+'</a>'; }
                render: function (data, type, row, meta) {
                  //var myID = row.ID;
                  //console.log(row);
                  //console.log(partNo);
                  //return '<a href="#" id="hlinkView" class="ti-eye" data-toggle="modal" data-target="#exampleModal"></a>';
                  //return '<a href="'+data+'">'+data+'</a>'
                  //return '<a href="#" onclick="myfunction("+ myID +")>'+data+'</a>';
                  //return  '<a href="drill.html?ID='+row.ID+'&Title='+row.Title+'&Category='+row.Category+'&Material='+row.Material+'&CoachingPoints='+row.CoachingPoints+'&Description='+row.Description+'&Image='+row.Image+'">' + data + '</a>';
                  return  '<a href="drill.html?ID='+row.ID+'">' + data + '</a>';
                },
                "orderable": true
              },
              { data: 'Title' },
              { data: 'Category' },
              { data: 'Material' },
              { data: 'CoachingPoints' },
              { data: 'Description' },
              { data: 'Image' ,
                render: function (data) {return "<img src='imgs/"+data+"' width='150px'>";},
                "orderable": false
              },
            ],
						//"columnDefs": [
						//	{ "orderable": false, "targets": 6 },
            //  //{ "targets": 0, "data": "download_link", "render": function ( data, type, row, meta ) { return '<a href="'+data+'">'+data+'</a>'; } }
            //  //{ "targets": 6, "data": "download_link", "render": function ( data, type, row, meta ) { return '<img src="img/'+ data +'" height="100"/>'; } }
						//]
					}
				);
        
        //$('#Drills').on('click', 'tr', function() {
        //  console.log(table.row(this).data());
        //})
			}
		);
	</script>
</head>
<body>
	<div id='viewindex'>
		<a href="index.html">View Index</a>
	</div>
	<div class="demo-html">
		<table id="Drills" class="display" style="width:100%">
			<thead>
				<tr>
					<th>ID</th>
					<th>Title</th>
					<th>Category</th>
					<th>Material</th>
					<th>Coaching Points</th>
					<th>Description</th>
					<th>Image</th>
				</tr>
			</thead>
			<tfoot>
				<tr>
					<th>ID</th>
					<th>Title</th>
					<th>Category</th>
					<th>Material</th>
					<th>Coaching Points</th>
					<th>Description</th>
					<th>Image</th>
				</tr>
			</tfoot>
		</table>
	</div>
	<div id='drills'></div>
</body>
</html>