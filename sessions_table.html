<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
	<title>Braves Ahuntsic Sessions</title>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" />
	<style type="text/css" class="init"></style>
	<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" class="init">
		$(document).ready(
			function () {
        //$.getJSON("cdc.json", function(json_resp) {

          
          $('#Sessions').DataTable(
            {
              "pageLength": -1,
              "lengthMenu": [ [-1, 10, 50, 250], ["ALL", 10, 50, 250] ],
              "processing": true,
              "serverSide": true,
              "ajax": {
                url: 'cdc.json',
                dataSrc: 'Sessions',
              },
              columns: [
                { data: 'id',
                  render: function (data, type, row, meta) {
                    return  '<a href="session.html?ID='+row.id+'&nocache=123">' + data + '</a>';
                  },
                },
                { data: 'theme_tech'//,
                  //render: function (data, type, row, meta) {
                  //  function getThemeTechByID(a_ID) {
                  //    //console.log(a_ID);
                  //    return json_resp['Themes_tech'].filter(
                  //      function(myRecord){ return myRecord.id == a_ID }
                  //    );
                  //  }
                  //
                  //   var found_theme_tech = getThemeTechByID(row.theme_tech);
                  //   found_theme_tech = found_theme_tech[0];  //get first
                  //   //console.log(found_theme_tech);
                  //  return found_theme_tech.technique;
                  //},
                },
                { data: 'theme_tact'//,
                  //render: function (data, type, row, meta) {
                  //  function getThemeTactByID(a_ID) {
                  //    //console.log(a_ID);
                  //    return json_resp['Themes_tact'].filter(
                  //      function(myRecord){ return myRecord.id == a_ID }
                  //    );
                  //  }
                  //
                  //   var found_theme_tact = getThemeTactByID(row.theme_tact);
                  //   found_theme_tact = found_theme_tact[0];  //get first
                  //   //console.log(found_theme_tact);
                  //  return found_theme_tact.tactique;
                  //},
                },
                { data: 'drills',
                  render: function (data) {return "bla";}
                },
              ],
              "columnDefs": [
                { "orderable": false, "targets": 1 },
                //{ "targets": 0, "data": "download_link", "render": function ( data, type, row, meta ) { return '<a href="'+data+'">'+data+'</a>'; } }
              ]
            }
          );
          
          
        //});
			}
		);
	</script>
</head>
<body>
	<div id='viewindex'>
		<a href="index.html">View Index</a>
	</div>
	<div class="demo-html">
		<table id="Sessions" class="display" style="width:100%">
			<thead>
				<tr>
					<th>ID</th>
					<th>Theme Tech</th>
					<th>Theme Tact</th>
					<th>Drills</th>
				</tr>
			</thead>
			<tfoot>
				<tr>
					<th>ID</th>
					<th>Theme Tech</th>
					<th>Theme Tact</th>
					<th>Drills</th>
				</tr>
			</tfoot>
		</table>
	</div>
	<div id='sessions'></div>
</body>
</html>